@using ServerClient.Extensions

@inherits LayoutComponentBase
@inject AuthenticationStateProvider AuthenticationStateProvider

<Header Title="Conduit" />


@Body

<Footer />

@code{
    [CascadingParameter]
    private BrowserStateProvider _browserStateProvider { get; set; }

    protected override async Task OnInitializedAsync()
    {
        var _authProvider = AuthenticationStateProvider as CustomAuthenticationStateProvider;
        var token = await _browserStateProvider.GetTokenAsync();
        await _authProvider!.LoginWithTokenAsync(token);

    }

}